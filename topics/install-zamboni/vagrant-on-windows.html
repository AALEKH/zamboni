

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Get Started With Vagrant On Windows &mdash; zamboni 0.8 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="zamboni 0.8 documentation" href="../../index.html" />
    <link rel="up" title="Install Zamboni" href="index.html" />
    <link rel="next" title="Getting Fancy" href="advanced-installation.html" />
    <link rel="prev" title="Installing In A VM With Vagrant" href="install-with-vagrant.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="advanced-installation.html" title="Getting Fancy"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install-with-vagrant.html" title="Installing In A VM With Vagrant"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">zamboni 0.8 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Install Zamboni</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="get-started-with-vagrant-on-windows">
<h1>Get Started With Vagrant On Windows<a class="headerlink" href="#get-started-with-vagrant-on-windows" title="Permalink to this headline">¶</a></h1>
<p>Here is a guide to help you get started installing Zamboni inside a vagrant virtual machine on Windows. Once you&#8217;re done, you can go back to <a class="reference internal" href="install-with-vagrant.html"><em>installing Zamboni with vagrant</em></a>.</p>
<div class="section" id="install-virtual-box">
<h2>Install Virtual Box<a class="headerlink" href="#install-virtual-box" title="Permalink to this headline">¶</a></h2>
<p>Download and install Oracle&#8217;s VirtualBox if you haven&#8217;t already.
<a class="reference external" href="http://www.virtualbox.org/">http://www.virtualbox.org/</a></p>
</div>
<div class="section" id="install-git">
<h2>Install Git<a class="headerlink" href="#install-git" title="Permalink to this headline">¶</a></h2>
<p>Download and install mysysgit from: <a class="reference external" href="http://code.google.com/p/msysgit/downloads/list">http://code.google.com/p/msysgit/downloads/list</a>
This is needed so that Windows has git capablity.</p>
<p>In Git Setup you need to choose the following options:</p>
<blockquote>
<div><ul class="simple">
<li>On &#8220;Adjusting your PATH environment&#8221; dialog choose &#8220;Run Git from the Windows Command Prompt&#8221;.</li>
<li>On &#8220;Choosing the SSH executable&#8221; dialog choose &#8220;Use OpenSSH&#8221;.</li>
<li><strong>IMPORTANT</strong>: On &#8220;Configuring the line ending conversions&#8221; dialog choose &#8220;Checkout as-is, commit Unix-style line ending&#8221;.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="install-ruby">
<h2>Install Ruby<a class="headerlink" href="#install-ruby" title="Permalink to this headline">¶</a></h2>
<p>Download and install RubyInstaller from: <a class="reference external" href="http://rubyinstaller.org/downloads/">http://rubyinstaller.org/downloads/</a>
Make sure to select option to add ruby path executable paths.</p>
<p>Download and extract Development Kit from above URL. Probably easiest to extract to <tt class="docutils literal"><span class="pre">C:\DevKit</span></tt></p>
<p>Then follow developer kit installation instructions at:  <a class="reference external" href="https://github.com/oneclick/rubyinstaller/wiki/Development-Kit">https://github.com/oneclick/rubyinstaller/wiki/Development-Kit</a></p>
<p>Summary of instructions:</p>
<blockquote>
<div><ul class="simple">
<li>Using command prompt cd folder development kit was extracted into (e.g. cd <tt class="docutils literal"><span class="pre">c:\DevKit</span></tt>)</li>
<li>Run the command <tt class="docutils literal"><span class="pre">ruby</span> <span class="pre">dk.rb</span> <span class="pre">init</span></tt>. Then run the command <tt class="docutils literal"><span class="pre">ruby</span> <span class="pre">dk.rb</span> <span class="pre">install</span></tt> to install rubygems.</li>
<li>Confirm installation by running the following commands:<ul>
<li><tt class="docutils literal"><span class="pre">gem</span> <span class="pre">install</span> <span class="pre">rdiscount</span> <span class="pre">--platform=ruby</span></tt></li>
<li><tt class="docutils literal"><span class="pre">ruby</span> <span class="pre">-rubygems</span> <span class="pre">-e</span> <span class="pre">&quot;require</span> <span class="pre">'rdiscount';</span> <span class="pre">puts</span> <span class="pre">RDiscount.new('**Hello</span> <span class="pre">RubyInstaller**').to_html&quot;</span></tt> command prompt should echo out <tt class="docutils literal"><span class="pre">&lt;p&gt;&lt;strong&gt;Helo</span> <span class="pre">RubyInstaller</span> <span class="pre">&lt;/strong&gt;&lt;/p&gt;</span></tt></li>
</ul>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="install-vagrant">
<h2>Install Vagrant<a class="headerlink" href="#install-vagrant" title="Permalink to this headline">¶</a></h2>
<p>Run the command <tt class="docutils literal"><span class="pre">gem</span> <span class="pre">install</span> <span class="pre">vagrant</span></tt></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are running 64bit Windows you MUST use v0.9.6 or above otherwise Virtual Box will not be detected properly.</p>
</div>
</div>
<div class="section" id="get-zamboni-code">
<h2>Get Zamboni Code<a class="headerlink" href="#get-zamboni-code" title="Permalink to this headline">¶</a></h2>
<p>cd to the folder above where you want the zamboni folder and files to be placed (e.g. <tt class="docutils literal"><span class="pre">c:\</span></tt>)
Run the command <tt class="docutils literal"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">--recursive</span> <span class="pre">git://github.com/mozilla/zamboni.git</span></tt>
This will take some time, go get a cup of coffee, eat lunch, go for a walk, etc.</p>
<p>In the zamboni folder (e.g. <tt class="docutils literal"><span class="pre">c:\zamboni</span></tt>) find the file <tt class="docutils literal"><span class="pre">Vagrantfile</span></tt> and open it in your favorite text editor.</p>
<p>Look for the following lines:</p>
<div class="highlight-python"><pre># For convenience add something like this to /etc/hosts: 33.33.33.24 z.local
# config.vm.network :hostonly, "33.33.33.24"
config.vm.network "33.33.33.24"  # old 0.8.* way</pre>
</div>
<p>Change them to:</p>
<div class="highlight-python"><pre># For convenience add something like this to /etc/hosts: 33.33.33.24 z.local
config.vm.network :hostonly, "33.33.33.24"
#config.vm.network "33.33.33.24"  # old 0.8.* way</pre>
</div>
</div>
<div class="section" id="start-the-zamboni-vm">
<h2>Start The Zamboni VM<a class="headerlink" href="#start-the-zamboni-vm" title="Permalink to this headline">¶</a></h2>
<p>It is time to build your zamboni virtual machine.  In the command prompt, cd to the zamboni folder (e.g. cd <tt class="docutils literal"><span class="pre">c:\zamboni</span></tt>) and run the command <tt class="docutils literal"><span class="pre">vagrant</span> <span class="pre">up</span></tt>. This step will download the zamboni virtual machine from Mozilla and install it. Before warned that this archive is many hundred megabytes in size so it will take some time to download even if you are on a broadband connection.</p>
<div class="section" id="configure-ssh">
<h3>Configure SSH<a class="headerlink" href="#configure-ssh" title="Permalink to this headline">¶</a></h3>
<p>Download PuTTY SSH client and PuTTYgen from <a class="reference external" href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html</a>. These are standalone executable files. You need to save them in their permanent location, (e.g. <tt class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\Putty</span></tt>).</p>
<p>You need to generate a private key for PuTTY. To do this, launch PuTTYgen and click on the &#8220;generate&#8221; button. You will be instructed to randomly move your mouse around the PuTTYgen window to generate the key. Once this is done, click on &#8220;load&#8221; and find the file &#8220;insecure_private_key&#8221;, it will probably be in your user folder under &#8221;.vagrant.d&#8221; (e.g. on Win7 at <tt class="docutils literal"><span class="pre">C:\Users\{your</span> <span class="pre">username}\.vagrant.d</span></tt>). Now save your public key and then save your private key (use different file names for each).</p>
<p>Create a PuTTY SSH session for zamboni. Launch PuTTY. In the host name put &#8220;127.0.0.1&#8221; and in the port use &#8220;2222&#8221;. In the category pane find &#8220;data&#8221; under &#8220;connection&#8221; and place &#8220;vagrant&#8221; in the auto-login username field. Then expand out the &#8220;SSH&#8221; branch and select &#8220;auth&#8221;. Next to the &#8220;private key file for authentication&#8221; field click on browse and find the private key you just generated. Select it and click &#8220;open&#8221; in the folder browser window. Now go back to &#8220;session&#8221; in the category pane in PuTTY, add &#8220;vagrant&#8221; to the saved sessions field and then click &#8220;save&#8221;. This will save your session for future use.</p>
<p>Login to zamboni by clicking on &#8220;open&#8221; in the PuTTY window.  This should automatically log you into the Zamboni VM.  If you add the PuTTY file path to your system properties environment variable &#8220;path&#8221; (e.g. <tt class="docutils literal"><span class="pre">;C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\Putty</span></tt>) you should be able to reference PuTTY from the command prompt by simply calling &#8220;putty -load vagrant&#8221; once you reboot your computer.</p>
<p>The first time you log into Zamboni you should see a very long series of scrolling text with lots of SQL statements etc.  This is the database migrations taking place. This phase could take quite a while to complete. Don&#8217;t do anything to your PuTTY VM session until it gives you back a command prompt.</p>
<p>Congratulations if things went well your Zamboni VM is up and running. You are now ready to start the Dev Server.</p>
</div>
<div class="section" id="start-the-dev-server">
<h3>Start the Dev Server<a class="headerlink" href="#start-the-dev-server" title="Permalink to this headline">¶</a></h3>
<p>From PuTTY VM session, enter the command <tt class="docutils literal"><span class="pre">./project/vagrant/bin/start.sh</span></tt>.</p>
<p>You should now be able to access your development server on a special IP address set up by Vagrant.  Point your web browser to <a class="reference external" href="http://33.33.33.24:8000/">http://33.33.33.24:8000/</a></p>
<p>More info on <a class="reference internal" href="install-with-vagrant.html"><em>installing Zamboni with vagrant</em></a>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Get Started With Vagrant On Windows</a><ul>
<li><a class="reference internal" href="#install-virtual-box">Install Virtual Box</a></li>
<li><a class="reference internal" href="#install-git">Install Git</a></li>
<li><a class="reference internal" href="#install-ruby">Install Ruby</a></li>
<li><a class="reference internal" href="#install-vagrant">Install Vagrant</a></li>
<li><a class="reference internal" href="#get-zamboni-code">Get Zamboni Code</a></li>
<li><a class="reference internal" href="#start-the-zamboni-vm">Start The Zamboni VM</a><ul>
<li><a class="reference internal" href="#configure-ssh">Configure SSH</a></li>
<li><a class="reference internal" href="#start-the-dev-server">Start the Dev Server</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="install-with-vagrant.html"
                        title="previous chapter">Installing In A VM With Vagrant</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="advanced-installation.html"
                        title="next chapter">Getting Fancy</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/topics/install-zamboni/vagrant-on-windows.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="advanced-installation.html" title="Getting Fancy"
             >next</a> |</li>
        <li class="right" >
          <a href="install-with-vagrant.html" title="Installing In A VM With Vagrant"
             >previous</a> |</li>
        <li><a href="../../index.html">zamboni 0.8 documentation</a> &raquo;</li>
          <li><a href="index.html" >Install Zamboni</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, The Zamboni Collective.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>